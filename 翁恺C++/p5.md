# P5 头文件

头文件

Header = interface

在所有定义的地方和body(.cpp)都要 include

`.h` declarations 声明

`.cpp`definitions 定义

\#include 编译预处理器——after pre-compile

```shell
g++ a.cpp b.cpp --save-temps # 保留编译过程中的临时文件
g++ a.cpp b.cpp --save-temps -Wall # 输出所有可能的 Warning
g++ a.cpp b.cpp --save-temps -c -D _MY_H_
```
编译预处理完成会生成 a.ii

编译成汇编 a.s

汇编完成会生成 a.o

ld 连接器


`a.h`
```h
void f();
int global;
```

`b.cpp`
```cpp
# include "a.h"

int global;
void f()
{
    global ++;
}
```

`a.cpp`
```cpp
# include "a.h"

int main()
void f()
{
    return 0;
}
```



- 一个`.cpp`文件就是一个编译单元
  
- 只能在 `.h` 中放声明，以下的是声明

-- extern variables 

-- function prototypes 函数原型（没有大括号）

-- class/struct declaration 类\结构的声明

#include

#include “xx.h” 会在当前路径下找

#include <xx.h> 会在系统头文件的路径下找 （/usr/include）

#include <xx> 同上

`.h` 里存在条件编译——标准头文件结构

```cpp
#define _MY_H
#ifndef _MY_H
#define _MY_H

class TicketMachine {
        public:
                TicketMachine();
                virtual ~TicketMachine();
                void showPrompt();
                void insertMoney(int money);
                void showBalance();
                void showTotal();
        private:
                const int PRICE;
                int balance;
                int total;
};

#endif // TICKETMACHINE_H_
```

-每个头文件存放一个类的声明

-body 有同名 `.cpp`定义

-标准头文件结构
